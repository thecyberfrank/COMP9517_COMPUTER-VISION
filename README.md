# elpv-identify
新南9517计算机视觉

## 数据集介绍

ELPV数据集包含来自太阳能模块的电致发光（EL）图像，涵盖功能正常和有缺陷的太阳能电池。数据集包括2624张300x300像素的8位灰度图像，展示44种不同太阳能模块中的电池，并呈现不同程度的退化。其中，包含1116张功能正常和1508张有缺陷的太阳能电池图像。

## 图像预处理方法

1. **图像去噪**：针对ELPV数据集的太阳能电池板图像，去噪有助于突出重要特征，如裂纹或缺陷，这些可能在原始图像中被噪声掩盖。
2. **直方图均衡化**：直方图均衡化通过调整图像的强度分布来增强图像对比度。在ELPV数据集中，均衡化改善视觉质量，使裂缝或缺陷更明显。
3. **对比度调整**：调整图像对比度使特征更明显。在ELPV数据集中，增强对比度有助于区分正常和有缺陷的太阳能电池板。
4. **数据增强（旋转和翻转）**：通过对原始图像应用变换生成额外训练样本。在ELPV中应用旋转和翻转图像，增加模型的泛化能力。

## 模型介绍

### 1. 随机森林模型

随机森林由多个决策树组成。每棵树是一个流程图，内部节点代表特征测试，分支代表测试结果，叶节点代表类标签。随机森林通过bootstrap抽样，每棵树使用数据集的随机子集，节点分裂时随机选择特征子集，增加多样性，减少过拟合。

### 2. 支持向量机（SVM）

SVM是一种用于分类和回归的监督学习算法。核心是找到最优超平面，最大化不同类别数据点间的间隔。SVM适合处理高维数据，通过核技巧将数据映射到高维空间实现分类。

### 3. 随机森林和SVM融合模型

结合随机森林的特征选择和SVM的高维数据处理能力，混合模型先用随机森林进行特征选择或转换，然后用SVM进行精准分类。此方法减少过拟合，提高泛化能力，特别适用于ELPV数据集。

## 实验结果

### SVM最佳实验结果

- 使用直方图优化预处理
- 参数：kernel='rbf', gamma='scale', probability=True
- Poly SVM - 平均准确率: 0.7448, 最佳准确率: 0.7448, 平均F1分数: 0.7015, 最佳F1分数: 0.7015
- Mono SVM - 平均准确率: 0.7584, 最佳准确率: 0.7584, 平均F1分数: 0.7242, 最佳F1分数: 0.7242

### 随机森林实验结果

- 使用3*3高斯滤波去除噪声
- 参数：n_estimators=100
- Poly RF - 平均准确率: 0.7445, 最佳准确率: 0.7629, 平均F1分数: 0.7111, 最佳F1分数: 0.7321
- Mono RF - 平均准确率: 0.7455, 最佳准确率: 0.7621, 平均F1分数: 0.7219, 最佳F1分数: 0.7416

### 随机森林+SVM混合模型实验结果

- 使用3*3高斯滤波去除噪声
- 参数：n_estimators=150
- Poly RF+SVM - 平均准确率: 0.7438, 最佳准确率: 0.7680, 平均F1分数: 0.7226, 最佳F1分数: 0.7429
- Mono RF+SVM - 平均准确率: 0.7413, 最佳准确率: 0.7546, 平均F1分数: 0.7241, 最佳F1分数: 0.7406

## 讨论

在类别不平衡情况下，F1分数是更合适的度量标准。因此，最优模型为使用3*3高斯滤波预处理的随机森林+SVM混合模型，虽然其准确率与单独使用随机森林类似，但F1分数更高。

### SVM模型和直方图优化

使用直方图优化后，SVM模型性能提升，可能因为：
- **对比度提升**：直方图均衡化增强图像中的特征，有助于区分不同类别。
- **特征增强**：改善图像亮度分布，增强细微差异，提升模型识别能力。
- **数据一致性**：标准化图像亮度和对比度，提供一致的数据输入。

使用其他预处理组合降低了模型分数，可能因为：
- **过度增强**：增加图像对比度可能导致细节丢失，影响模型识别能力。
- **去噪可能移除重要特征**：误将关键特征视为噪声并去除，降低分类准确性。

### 随机森林模型和高斯滤波去除噪声

使用高斯滤波去除噪声提升随机森林模型性能，可能因为：
- **噪声降低**：有效去噪，使关键特征（如裂纹、缺陷）更清晰。
- **保留空间结构**：平滑噪声的同时，保留图像基本结构和重要特征。

使用其他预处理组合的随机森林模型性能不佳，可能因为：
- **过度增强或失真**：对比度增强或直方图均衡化可能导致图像细节过度增强或失真。
- **特征平衡问题**：可能破坏图像中的自然特征平衡。
- **关键特征丢失**：均衡化可能导致关键特征丢失。

### 随机森林+SVM的混合模型

随机森林+SVM混合模型优于单独使用的原因：
- **特征选择与分类**：先用随机森林进行特征选择，再用SVM进行精准分类。
- **减少过拟合和提高泛化能力**：随机森林提供健壮和泛化的特征，SVM在高维空间中实现更精准的分类。
